<html>

<!-- Mirrored from openbook.rheinwerk-verlag.de/c_von_a_bis_z/023_c_cgi_009.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Jun 2017 19:51:51 GMT -->
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Rheinwerk Computing :: C von A bis Z &ndash; 23.9 Das Common Gateway Interface (CGI)</title>
<meta name="title" content="Rheinwerk Computing :: C von A bis Z - 23.9 Das Common Gateway Interface (CGI)">
<meta name="author" content="J&uuml;rgen Wolf ">
<meta name="publisher" content="Rheinwerk Verlag GmbH 2009">
<meta name="copyright" content="Rheinwerk Verlag GmbH 2009">
<meta name="Description" content="C von A bis Z - Das umfassende Handbuch &ndash; 23.9 Das Common Gateway Interface (CGI)">
<meta name="audience" content="Alle">
<meta name="robots" content="INDEX,FOLLOW">
<meta http-equiv="content-language" content="de">
<link rel="stylesheet" type="text/css" href="common/rw_open.css">
<link rel="prev" href="023_c_cgi_008.html">
<link rel="next" href="023_c_cgi_010.html"><script type="text/javascript"><!--
    function OpenWin(url,name,height,width)
    {
      var InfoWin = window.open(url,name,"directories=0,height="+height+",width=" + width + ",hotkeys=0,location=0,menubar=0,resizable=1,screenX=150,screenY=10,left=150,top=10,scrollbars=1,status=1,titlebar=0,toolbar=0");
      InfoWin.focus();
    }
    //--></script><link href="common/prettify.css" type="text/css" rel="stylesheet"><script type="text/javascript" src="common/prettify.js"></script></head>
<body vlink="#000099" link="#000099" alink="#000099" onload="prettyPrint()">
<table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#00549d">
<tr>
<td height="74" valign="bottom" colspan="2"><a href="https://www.rheinwerk-verlag.de/katalog/openbook?GPP=opc3"><img src="common/rw_openbook.gif" width="200" height="56" border="0" alt="Rheinwerk Computing < openbook >" title="Rheinwerk Computing < openbook >"></a></td>
<td width="80" height="74"><a href="https://www.rheinwerk-verlag.de/?GPP=opc3"><img src="common/rw_computing.gif" border="0" alt="Rheinwerk Computing - Professionelle Bücher. Auch für Einsteiger." title="Rheinwerk Computing - Professionelle Bücher. Auch für Einsteiger."></a></td>
</tr>
</table>
<div align="right"><a href="https://www.rheinwerk-verlag.de/?GPP=opc3" class="navnav">Professionelle Bücher. Auch für Einsteiger.</a></div><br><table class="tbl" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="190" valign="top">
<table class="tbl1" border="0" cellpadding="3" cellspacing="0" width="190" align="left">
<tr>
<td class="tbl2"><a class="nav" href="index-2.html#_top">Inhaltsverzeichnis</a></td>
</tr>
<tr>
<td><a class="navnav" href="000_c_vorwort_001.html#mj764cb3fd439d3b95d1843e7c7d17f235">Vorwort</a></td>
</tr>
<tr>
<td><a class="navnav" href="000_c_vorwort_gutachter_001.html#mj3d41cb339c9b2fc1d6e99cdaa93c3860">Vorwort des Gutachters</a></td>
</tr>
<tr>
<td><a class="navnav" href="001_c_einstieg_in_c_001.html#mja24d93ff97bb42dbebf4689160c45195">1 Einstieg in C</a></td>
</tr>
<tr>
<td><a class="navnav" href="002_c_das_erste_programm_001.html#mj2604a667cc98d3fa2178751273346b91">2 Das erste Programm</a></td>
</tr>
<tr>
<td><a class="navnav" href="003_c_grundlagen_001.html#mj7ac54ba315b94149806c1de3fc89ee7f">3 Grundlagen</a></td>
</tr>
<tr>
<td><a class="navnav" href="004_c_ein_ausgabe_001.html#mj20c131820fbfb1497afd796ee443599e">4 Formatierte Ein-/Ausgabe mit »scanf()« und »printf()«</a></td>
</tr>
<tr>
<td><a class="navnav" href="005_c_basisdatentypen_001.html#mjeda2957449ddc812dad62b400fe57752">5 Basisdatentypen</a></td>
</tr>
<tr>
<td><a class="navnav" href="006_c_operatoren_001.html#mjab3693b096d581607801a36ce88905fc">6 Operatoren</a></td>
</tr>
<tr>
<td><a class="navnav" href="007_c_typumwandlung_001.html#mj5c5e497ac2ab4367fe9df0ffd218cfca">7 Typumwandlung</a></td>
</tr>
<tr>
<td><a class="navnav" href="008_c_kontrollstrukturen_001.html#mjc7bf6f584a2fe20b4c5f6b16ba15d57d">8 Kontrollstrukturen</a></td>
</tr>
<tr>
<td><a class="navnav" href="009_c_funktionen_001.html#mj7893101be51aa469fe52334038acd465">9 Funktionen</a></td>
</tr>
<tr>
<td><a class="navnav" href="010_c_praeprozessor_001.html#mjacdd200a20163a4d3fa418b6cb95763e">10 Präprozessor-Direktiven</a></td>
</tr>
<tr>
<td><a class="navnav" href="011_c_arrays_001.html#mje29de26c54a3884f7316cbbb2a073ad8">11 Arrays</a></td>
</tr>
<tr>
<td><a class="navnav" href="012_c_zeiger_001.html#mjee28a882ef9125d2c4cc49121b2c65c1">12 Zeiger (Pointer)</a></td>
</tr>
<tr>
<td><a class="navnav" href="013_c_kommandozeilenargumente_001.html#mjf6a9e42fa3bc25b2b1e06270e7bf8f68">13 Kommandozeilenargumente</a></td>
</tr>
<tr>
<td><a class="navnav" href="014_c_dyn_speicherverwaltung_001.html#mj8d062301d2449b13710f1484d499cd9b">14 Dynamische Speicherverwaltung</a></td>
</tr>
<tr>
<td><a class="navnav" href="015_c_strukturen_001.html#mj5e146ba18168113a5c645cd2d07c4ec8">15 Strukturen</a></td>
</tr>
<tr>
<td><a class="navnav" href="016_c_ein_ausgabe_funktionen_001.html#mj136f9ac6b5b7c440aafe5010411ef011">16 Ein-/Ausgabe-Funktionen</a></td>
</tr>
<tr>
<td><a class="navnav" href="017_c_dateien_verzeichnisse_001.html#mj9f81aea722a9edb8d0080df81eb9402c">17 Attribute von Dateien und das Arbeiten mit Verzeichnissen (nicht ANSI C)</a></td>
</tr>
<tr>
<td><a class="navnav" href="018_c_stdarg_h_001.html#mj9d64febdc46a1375e5c4498b17154e30">18 Arbeiten mit variabel langen Argumentlisten &#8211; &lt;stdarg.h&gt;</a></td>
</tr>
<tr>
<td><a class="navnav" href="019_c_zeitroutinen_001.html#mj0a8102e96a1297bd767ac7274e069f0f">19 Zeitroutinen</a></td>
</tr>
<tr>
<td><a class="navnav" href="020_c_headerdateien_001.html#mjf3caede8ebd504dc6b7454b297c251e8">20 Weitere Headerdateien und ihre Funktionen (ANSI C)</a></td>
</tr>
<tr>
<td><a class="navnav" href="021_c_dyn_datenstrukturen_001.html#mja75ba2f4ab8f95e9e321d195c1e26d76">21 Dynamische Datenstrukturen</a></td>
</tr>
<tr>
<td><a class="navnav" href="022_c_algorithmen_001.html#mj07afe6f332eab2e8168da2f69f7b31c4">22 Algorithmen</a></td>
</tr>
<tr>
<td><a class="navh" href="##mj6c4219b4e615fa24deaa57d5c3d04db8">23 CGI mit C</a></td>
</tr>
<tr>
<td><a class="navnav" href="024_c_mysql_001.html#mj12dab301033f9fd856aa739270c45e08">24 MySQL und C</a></td>
</tr>
<tr>
<td><a class="navnav" href="025_c_netzwerkprogrammierung_001.html#mja8101c6e0e4cb2e6fd8312114dad30d7">25 Netzwerkprogrammierung und Cross&ndash;Plattform-Entwicklung</a></td>
</tr>
<tr>
<td><a class="navnav" href="026_c_paralleles_rechnen_001.html#mj710dc0ad851d57e60533f8797ff9c1e6">26 Paralleles Rechnen</a></td>
</tr>
<tr>
<td><a class="navnav" href="027_c_sicheres_programmieren_001.html#mj13eba8f9d68ac8414bffaa3a1b24ec31">27 Sicheres Programmieren</a></td>
</tr>
<tr>
<td><a class="navnav" href="028_c_weiterfuehrendes_001.html#mj3e65f750149ade087925f303b3871af9">28 Wie geht&#8217;s jetzt weiter?</a></td>
</tr>
<tr>
<td><a class="navnav" href="029_c_anhang_a_001.html#mjec9bf1c5e3fe2e46047c2f9c7aa9c531">A Operatoren</a></td>
</tr>
<tr>
<td><a class="navnav" href="030_c_anhang_b_001.html#mj803443bb6e7546011c48e6e57fbdbb64">B Die C-Standard-Bibliothek</a></td>
</tr>
<tr>
<td><a class="navnav" href="stichwort.html#_top">Stichwort</a></td>
</tr>
<!--<tr>
<td><br><a href="http://download.galileo-press.de/openbook/c_von_a_bis_z/galileocomputing_c_von_a_bis_z.zip" class="navnav"><strong>Download:</strong><br>- ZIP, ca. 10,3 MB</a></td>
</tr>-->
<tr>
<td><br><a href="https://www.rheinwerk-verlag.de/2132/?GPP=opc3" class="navnav">Buch bestellen</a></td>
</tr>
<tr>
<td><a class="navnav" href="#kommentar">Ihre Meinung?</a><br><br></td>
</tr>
</table>
</td>
<td width="10"><img src="common/spacer10.gif" width="10" height="10" alt="Spacer"></td>
<td width="85%" valign="top" align="center"><div align="center">
<table width="98%" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center"><table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="25%"><a href="023_c_cgi_008.html" class="navnav"> &lt;&lt;   zurück</a></td>
<td width="49%"><div align="center"><a href="https://www.rheinwerk-verlag.de/?GPP=opc3" class="navnav">Rheinwerk Computing</a> / <a href="https://www.rheinwerk-verlag.de/openbook/?GPP=opc3" class="navnav">&lt;openbook&gt;</a> / <a href="index-2.html" class="navnav"> C von A bis Z</a></div></td>
<td align="right" width="25%"><div align="right"><a href="023_c_cgi_010.html" class="navnav">vor   &gt;&gt; </a></div></td>
</tr>
</table></td>
</tr>
<tr>
<td width="100%" valign="top"><table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
<tr>
<td colspan="2"><a href="https://www.rheinwerk-verlag.de/2132/?GPP=opc3" class="buchtitel">C von A bis Z</a><span class="autor"> von J&uuml;rgen Wolf </span><br><span class="untertitel">Das umfassende Handbuch</span></td>
</tr>
<tr>
<td valign="top" width="211"><dl>
<dt><a href="https://www.rheinwerk-verlag.de/2132/?GPP=opc3" class="navnav"><img src="common/9783836214117.gif" border="0" alt="Buch: C von A bis Z" title="Buch: C von A bis Z"></a></dt>
<dd><br><a href="https://www.rheinwerk-verlag.de/2132/?GPP=opc3"><span class="autor"><strong>C von A bis Z</strong><br>3., aktualisierte und erweiterte Auflage, geb., mit CD und Referenzkarte<br>1.190 S., 39,90 Euro<br>Rheinwerk Computing<br>ISBN 978-3-8362-1411-7</span></a></dd>
</dl></td>
<td width="80%"><table border="0">
<tr>
<td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="3" class="kap"><strong><a href="023_c_cgi_001.html#mj6c4219b4e615fa24deaa57d5c3d04db8" class="navnav">23 CGI mit C</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_001.html#mj753bda1c0feeb96471a6fd3507e78471" class="navnav">23.1 Was ist CGI?</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_002.html#mj1c41e4288dfdb0c00282e7f355aeaa9f" class="navnav">23.2 Vorteile von CGIs in C</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_003.html#mjba994bed8bd4ef92ec7942f9d4bf360f" class="navnav">23.3 Andere Techniken der Webprogrammierung</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_004.html#mje31b0468de9a6775e240739f74c869b2" class="navnav">23.4 Das dreistufige Webanwendungsdesign</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_004.html#mj784201c3d2f30eccccfea683d0cf7bf6" class="navnav">23.4.1 Darstellungsschicht</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_004.html#mje39605f3b437d685802be297b35155a9" class="navnav">23.4.2 Verarbeitungsschicht</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_004.html#mj7d321c39df88af1ebf71b508407fce6b" class="navnav">23.4.3 Speicherschicht</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_005.html#mjb28b02e3339269fcd271c6805808d095" class="navnav">23.5 Clientseitige Programmierung</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_005.html#mj5a8f8115ea7f290fec7e4d69744df07d" class="navnav">23.5.1 JavaScript</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_005.html#mj74dc3ff9efbe0425db8caf4228c62ea3" class="navnav">23.5.2 Java-Applets</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_006.html#mjae9786f0e8b66329366dd5020d11ea24" class="navnav">23.6 Serverseitige Programmierung</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_007.html#mj953622e10f930a8262378a3b8d1af353" class="navnav">23.7 Der Webserver</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_007.html#mj1275ef287ecf27bd23a407e1df4d8bee" class="navnav">23.7.1 Das Client/Server-Modell des Internets</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_007.html#mje745ab77530f29271e1cf393659c1ee3" class="navnav">23.7.2 Serverimplementierung</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_007.html#mj7456a25fa957c5d5c1e6fb6f1b8e51ac" class="navnav">23.7.3 Hosting-Services</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_007.html#mj03fcae8d34e70f2bd333a6b103a37aa8" class="navnav">23.7.4 Schlüsselfertige Lösung</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_007.html#mjce2ea6f4ed0702c32f081bae27e68360" class="navnav">23.7.5 Weitere Möglichkeiten</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_007.html#mj464e0e321247e44496cedab2c842ea5b" class="navnav">23.7.6 Apache</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_008.html#mj2b0939e8af690d0ec6266500fedc9ffa" class="navnav">23.8 Das HTTP-Protokoll</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mj8a70459247f5ba115f4a5fa93400236e" class="navnav">23.8.1 Web-Protokolle</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mj24b27af5edc8278f18e4df88f534d77c" class="navnav">23.8.2 Wozu dienen Protokolle?</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mj491046404289233a9e9e8df32c1a4f89" class="navnav">23.8.3 Was ist ein Protokoll?</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mj94e75d737d6c99f0eb1b40a87775a1cc" class="navnav">23.8.4 Normen für die Netzwerktechnik</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mjb7232dd442661d7ce111749a1b172adc" class="navnav">23.8.5 Das OSI-Schichtenmodell</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mj6eeb35459ee40823c55526c0d43f34d6" class="navnav">23.8.6 Die Elemente einer URL</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mj5bb5e909c12c5816dad92a19681c031c" class="navnav">23.8.7 Client-Anfrage &#8211; HTTP-Request (Browser-Request)</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mj09828f14735c9eb1238f74eca50e06d3" class="navnav">23.8.8 Serverantwort (Server-Response)</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_008.html#mjd01b8cb558fb8718dbd7f11163871d91" class="navnav">23.8.9 Zusammenfassung</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="#mj55aa43d3854686f279b9a2995d0e7856" class="navh">23.9 Das Common Gateway Interface (CGI)</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="#mj84eb3b3a8b994c00e61cceeb82845a62" class="navh">23.9.1 Filehandles</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="#mj8a88b70c9ea857f625bc33cf9111ab38" class="navh">23.9.2 CGI-Umgebungsvariablen</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="#mj092417d7813dd1c70bcbc7e9ae741468" class="navh">23.9.3 CGI-Ausgabe</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_010.html#mj4dff274d0bc1fff0b99f596c9b5bfd82" class="navnav">23.10 HTML-Formulare</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_010.html#mjd677b465f7e12e59f34b1617b357ef76" class="navnav">23.10.1 Die Tags und ihre Bedeutung</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_011.html#mj2b0c7c08b2e6bbf223343aa9f7d5fbd6" class="navnav">23.11 CGI-Eingabe</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_011.html#mj7c6f1fbfc9dccbb876a35161a36a02bb" class="navnav">23.11.1 Die Anfrage des Clients an den Server</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_011.html#mj3200134c102e6d9fe1294ab668e2e386" class="navnav">23.11.2 Eingabe parsen</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_012.html#mjb5dc8d227df3a4a3853d41b01ce13059" class="navnav">23.12 Ein Gästebuch</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_012.html#mj82f7f5f2569036a3b2bc8403beeeb7dc" class="navnav">23.12.1 Das HTML-Formular (»guestbook.html«)</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_012.html#mj7c61b8637748679b60117a0df0706a56" class="navnav">23.12.2 Das CGI-Programm (»auswert.cgi«)</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="023_c_cgi_012.html#mjbea5f4c766c0367a2d9a61bdcf1a50a6" class="navnav">23.12.3 Das HTML-Gästebuch (»gaeste.html«)</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="023_c_cgi_013.html#mj55d5fdaf89ed49f761a7c0d097b650ad" class="navnav">23.13 Ausblick</a></strong></td>
</tr>
</table><br></td>
</tr>
</table>
<table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
<tr>
<td><div class="main"><a id="mj55aa43d3854686f279b9a2995d0e7856" name="mj55aa43d3854686f279b9a2995d0e7856"></a><a name="t21"></a><a name="t2t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing - Zum Seitenanfang"></a></div>
<h2 class="t2"><span class="cfett">23.9</span><span class="cfett"> Das Common Gateway Interface (CGI)</span>  <a href="#t2t32"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><img src="common/15x15leer.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></h2>
<p>Damit Sie CGI-Anwendungen auf einem Server ausführen können, muss dafür eine bestimmte Umgebung erzeugt werden. CGI erzeugt diese Umgebung. In diesem Abschnitt geht es darum, welche Umgebung Ihnen CGI zur Verfügung stellt und wie Sie damit arbeiten können.</p><a id="mj84eb3b3a8b994c00e61cceeb82845a62" name="mj84eb3b3a8b994c00e61cceeb82845a62"></a><a name="t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing - Zum Seitenanfang"></a></div><a name="t2t32"></a><h3 class="t3"><span class="cfett">23.9.1</span><span class="cfett"> Filehandles</span>  <a href="#t2t33"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#t2t31"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
<p>Den Standard-Filehandles <span class="clisting">stdin</span> und <span class="clisting">stdout</span> fällt bei CGI-Anwendungen eine besondere Rolle zu:</p>
<ul class="gp">
<li><span class="clisting">stdin</span> &#8211; Erhält der Webserver eine Anfrage (HTTP-Request) mit der <span class="clisting">POST</span>-Methode vom Webbrowser, eine CGI-Anwendung zu starten, wird der Nachrichten-Body über <span class="clisting">stdin</span> an die CGI-Anwendung weitergeleitet. Über die Standardeingabe können Sie nun <span class="clisting">Content-Length</span>-Bytes einlesen. Diese eingelesenen Daten liegen allerdings noch in kodierter Form vor und müssen erst noch dekodiert werden.</li>
</ul>
<ul class="gp">
<li><span class="clisting">stdout</span> &#8211; Auf <span class="clisting">stdout</span> geben CGI-Anwendungen ihre Daten aus. Die Ausgabe beim Apache-Webserver ist dabei ungepuffert.</li>
</ul>
<p>Einfacher geht es eigentlich kaum. Daten vom Webbrowser für die CGI-Anwendung werden einfach über die Standardeingabe (<span class="clisting">stdin</span>) eingelesen, und Daten für den Webbrowser (z. B. die Darstellung einer Webseite) werden über die Standardausgabe (<span class="clisting">stdout</span>) ausgegeben. Und hier greifen Sie ein. Sie sind mit einer dazwischenliegenden CGI-Anwendung für den Datenfluss verantwortlich.</p>
<p>Was die Standardfehlerausgabe (<span class="clisting">stderr</span>) bei CGI-Anwendungen macht, ist nicht festgelegt und hängt somit von den einzelnen Webservern ab. Zumindest beim Apache werden Ausgaben in das in der <span class="ckursiv">httpd.conf</span> angegebene <span class="ckursiv">error.log</span> geleitet.</p><a id="mj8a88b70c9ea857f625bc33cf9111ab38" name="mj8a88b70c9ea857f625bc33cf9111ab38"></a><a name="t32"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing - Zum Seitenanfang"></a></div><a name="t2t33"></a><h3 class="t3"><span class="cfett">23.9.2</span><span class="cfett"> CGI-Umgebungsvariablen</span>  <a href="#t2t34"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#t2t32"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
<p>In den sogenannten Umgebungsvariablen befinden sich Informationen zum Webserver und zum Client (Browser). Die CGI-Umgebungsvariablen werden aus drei verschiedenen Quellen erzeugt:</p>
<ul class="gp">
<li>dem HTTP-Anfrage-Paket</li>
</ul>
<ul class="gp">
<li>dem Webserver</li>
</ul>
<ul class="gp">
<li>dem HTTP-Anfrage-Header des Webbrowsers</li>
</ul>
<p>Einige der Umgebungsvariablen werden dabei aus einer Kombination dieser drei Quellen gesetzt. Hier folgt ein Überblick zu einigen Standard-Umgebungsvariablen auf dem Webserver:</p><br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<caption class="tabunter"><p class="ptabunter"><strong>Tabelle 23.8    </strong>CGI-Umgebungsvariablen und deren Bedeutung</p>
</caption>
<tr>
<td class="tabellenkopf"><span class="cfett">CGI-Umgebungsvariable</span>
</td>
<td class="tabellenkopf"><span class="cfett">Bedeutung</span>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">AUTH_TYPE</pre></div>
</td>
<td class="tabellentext">
<p>Authentifizierungsmethode zur Überprüfung des Benutzers (falls angefordert)</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">CONTENT_LENGTH</pre></div>
</td>
<td class="tabellentext">
<p>Größe der Daten in Bytes, die an die Standardeingabe (<span class="clisting">stdin</span>) der CGI-Anwendung übergeben wurden</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">CONTENT_TYPE</pre></div>
</td>
<td class="tabellentext">
<p>die Art des Dokuments des Nachrichten-Body</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">DOCUMENT_ROOT</pre></div>
</td>
<td class="tabellentext">
<p>Verzeichnis, aus dem statische Webseiten gelesen werden</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">GATEWAY_INTERFACE</pre></div>
</td>
<td class="tabellentext">
<p>Version der CGI-Spezifikation des Webservers</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">PATH_INFO</pre></div>
</td>
<td class="tabellentext">
<p>zusätzliche Pfadinformationen, die beispielsweise vom Webbrowser übergeben wurden</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">PATH_TRANSLATED</pre></div>
</td>
<td class="tabellentext">
<p>die übersetzte Version von <span class="clisting">PATH_INFO</span>, die als Systempfad angegeben wird</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">QUERY_STRING</pre></div>
</td>
<td class="tabellentext">
<p>die Information, die mit einem <span class="clisting">?</span> an die URL gehängt wird</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">REMOTE_ADDR</pre></div>
</td>
<td class="tabellentext">
<p>die IP-Adresse des Clients, der den Request geschickt hat</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">REMOTE_HOST</pre></div>
</td>
<td class="tabellentext">
<p>der DNS-Name des Clients, der den Request geschickt hat</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">REMOTE_IDENT</pre></div>
</td>
<td class="tabellentext">
<p>Der Name des Remote-Benutzers, der vom Server ermittelt wurde. Funktioniert nur, wenn Server und Client die RFC-931-Identifikation unterstützen.</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">REMOTE_USER</pre></div>
</td>
<td class="tabellentext">
<p>Unterstützt Ihr Server Benutzer-Authentifizierung, dann ist dies der Benutzername, mit dem Sie sich authentifiziert haben.</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">REQUEST_METHOD</pre></div>
</td>
<td class="tabellentext">
<p>die Methode der verwendeten HTTP-Anfrage (meist <span class="clisting">GET</span> oder <span class="clisting">POST</span>)</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">SCRIPT_NAME</pre></div>
</td>
<td class="tabellentext">
<p>der URL-Pfad des ausgeführten Skripts</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">SERVER_NAME</pre></div>
</td>
<td class="tabellentext">
<p>der Hostname, der DNS-Alias oder die IP-Adresse des Serverrechners</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">SERVER_PORT</pre></div>
</td>
<td class="tabellentext">
<p>Die Portnummer, an die die HTTP-Anfrage gesendet wurde. Meistens ist das Port 80.</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">SERVER_PROTOCOL</pre></div>
</td>
<td class="tabellentext">
<p>der Name und die Versionsnummer des Protokolls, mit dem die Anfrage gesendet wurde</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">SERVER_SOFTWARE</pre></div>
</td>
<td class="tabellentext">
<p>der Name und die Versionsnummer des verwendeten Webservers</p>
</td>
</tr>
</table><br><p>Weitere Header-Variablen, die Ihnen Apache zur Verfügung stellt, sind die vom Client (Webbrowser) bei der Anfrage gesendeten Variablen. Alle diese Header-Variablen sind gleich aufgebaut: <span class="clisting">HTTP_Name_des_Headers</span>. Tabelle 23.9 zeigt einige dieser Variablen im Überblick:</p><br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<caption class="tabunter"><p class="ptabunter"><strong>Tabelle 23.9    </strong>HTTP-Header-Variablen</p>
</caption>
<tr>
<td class="tabellenkopf"><span class="cfett">Header-Variablen</span>
</td>
<td class="tabellenkopf"><span class="cfett">Bedeutung</span>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">HTTP_ACCEPT</pre></div>
</td>
<td class="tabellentext">
<p>Liste der akzeptierten Medientypen</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">HTTP_ACCEPT_CHARSET</pre></div>
</td>
<td class="tabellentext">
<p>Liste der akzeptierten Zeichensätze</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">HTTP_ACCEPT_LANGUAGE</pre></div>
</td>
<td class="tabellentext">
<p>Liste der akzeptierten Sprachen</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">HTTP_COOKIE</pre></div>
</td>
<td class="tabellentext">
<p>das Cookie, das vom Server gesetzt wurde</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">HTTP_FROM</pre></div>
</td>
<td class="tabellentext">
<p>die E-Mail-Adresse des Benutzers, der den Request gesendet hat (ist meistens nicht gesetzt)</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">HTTP_REFERER</pre></div>
</td>
<td class="tabellentext">
<p>Die URL, die der Benutzer zuletzt besucht hat. Ausnahme: eine direkt eingetippte URL oder ein Bookmark</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="listing"><pre class="prettyprint">HTTP_USER_AGENT</pre></div>
</td>
<td class="tabellentext">
<p>Name und Versionen des Betriebssystems und des Webbrowsers, der den Request gesendet hat</p>
</td>
</tr>
</table><br><p>Um jetzt auf die Umgebungsvariablen zuzugreifen, wird die ANSI-C-Funktion <span class="clisting">getenv()</span> verwendet:</p>
<div class="listing"><pre class="prettyprint">#include &lt;stdlib.h&gt;

char *getenv(const char *str);</pre></div>
<p>Ist die Umgebungsvariable <span class="clisting">str</span> vorhanden, wird ein Zeiger auf den Inhalt dieser Umgebungsvariable zurückgegeben. Wenn die Umgebungsvariable nicht vorhanden ist, wird <span class="clisting">NULL</span> zurückgegeben. Wollen Sie beispielsweise abfragen, von welchem Betriebssystem und welchem Webbrowser die Anfrage gestellt wurde, können Sie wie folgt vorgehen:</p>
<div class="listing"><pre class="prettyprint">/* browser.c */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

/* die Kopfzeile eines Standard-HTML-Dokuments;
 * titel: String, der als Titel erscheinen soll
 */
void print_html_header(char *titel) {
   printf("&lt;html&gt;&lt;head&gt;\n");
   printf("&lt;title&gt;%s&lt;/title&gt;\n",titel);
   printf("&lt;/head&gt;&lt;body&gt;&lt;pre&gt;\n");
}

/* das Ende eines HTML-Dokuments */
void print_html_end(void) {
   printf("&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;\n");
}

/* damit überhaupt ein HTML-Dokument ausgegeben wird */
void print_header(void) {
   printf("Content-Type: text/html\n\n");
}
int main(void) {
   char *p;

   print_header();
   print_html_header("Wer bin ich?");
   p = getenv("HTTP_USER_AGENT");
   if(p!=NULL)
      printf("Sie browsen mit : %s\n",p);
   else
      printf("Konnte HTTP_USER_AGENT nicht ermitteln!\n");
   print_html_end();
   return EXIT_SUCCESS;
}</pre></div>
<p>Wenn Sie diese CGI-Anwendung wieder aufrufen (der Name sei <span class="ckursiv">browser.cgi</span>), und zwar mit <span class="clisting"><a href="http://localhost/cgi-bin/browser.cgi">http://localhost/cgi-bin/browser.cgi</a></span>, dann sollten Sie im Browser einen String vorfinden wie z. B.:</p>
<div class="listing"><pre class="prettyprint">Sie browsen mit :
Mozilla/5.0 (Windows; U; Windows NT 6.0; de; rv:1.9.0.8)
Gecko/2009032609 Firefox/3.0.8 (.NET CLR 3.5.30729)</pre></div>
<p>oder:</p>
<div class="listing"><pre class="prettyprint">Sie browsen mit :
Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.5) Gecko/2008121622 Ubuntu/8.10 (intrepid) Firefox/3.0.5</pre></div>
<p>Die Abfrage aller Umgebungsvariablen soll jetzt in eine Funktion gepackt werden. Das folgende Listing gibt alle vorhandenen Umgebungsvariablen auf dem Browser aus:</p>
<div class="listing"><pre class="prettyprint">/* env.c */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

/* Listing gibt alle vorhandenen Environment-Variablen aus. */

char *env[] =  {
   "AUTH_TYPE", "CONTENT_LENGTH", "CONTENT_TYPE",
   "GATEWAY_INTERFACE", "HTTP_ACCEPT", "HTTP_CONNECTION",
   "HTTP_HOST", "HTTP_REFERER", "HTTP_USER_AGENT",
   "PATH_INFO", "PATH_TRANSLATET", "QUERY_STRING",
   "REMOTE_ADDR", "REMOTE_HOST", "REMOTE_IDENT",
   "REMOTE_USER", "REQUEST_METHOD", "SCRIPT_NAME",
   "SERVER_NAME", "SERVER_PORT", "SERVER_PROTOCOL",
   "SERVER_SOFTWARE" , NULL
};
/* die Kopfzeile eines Standard-HTML-Dokuments;
 * titel: String, der als Titel erscheinen soll
 */
void print_html_header(char *titel) {
   printf("&lt;html&gt;&lt;head&gt;\n");
   printf("&lt;title&gt;%s&lt;/title&gt;\n",titel);
   printf("&lt;/head&gt;&lt;body&gt;&lt;pre&gt;\n");
}

/* das Ende eines HTML-Dokuments */
void print_html_end(void) {
   printf("&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;\n");
}

/* damit überhaupt ein HTML-Dokument ausgegeben wird */
void print_header(void) {
   printf("Content-Type: text/html\n\n");
}

/* Inhalt der Environment-Variable ausgeben */
void environment(const char *s) {
   char *p;

   p = getenv(s);
   printf ("%s", s);
   if(p!=NULL)
      printf (" = %s", p);
   else
      printf(" = (&lt;i&gt;keine Angaben&lt;/i&gt;)");
   printf ("&lt;BR&gt;\n");
}

int main(void) {
   int i;

   print_header();
   print_html_header("CGI-Umgebungsvariablen ausgeben - 2\n");
   for(i=0; env[i] != NULL; i++)
      environment(env[i]);
   print_html_end();
   return EXIT_SUCCESS;
}</pre></div>
<div class="bildbox">
<p><a name="IDANCVQ"></a><a onClick="OpenWin('bilder/23_011.gif','Abbildung',800,800)"><img border="0" src="bilderklein/klein23_011.gif" alt="Abbildung"><br><span class="tabunter">Hier klicken, um das Bild zu vergrößern</span></a></p>
</div>
<p class="tabunter"><strong>Abbildung 23.11    </strong>Ausgabe der Umgebungsvariablen</p>
<p>Dreh- und Angelpunkt ist die Funktion <span class="clisting">environment()</span>, die mit einem entsprechenden String als Argument aufgerufen wird. Die Strings wurden in diesem Beispiel alle in eine Stringtabelle verpackt. In <span class="clisting">environment()</span> werden in einer Schleife alle Umgebungsvariablen abgefragt und ausgegeben.</p><a id="mj092417d7813dd1c70bcbc7e9ae741468" name="mj092417d7813dd1c70bcbc7e9ae741468"></a><a name="t33"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing - Zum Seitenanfang"></a></div><a name="t2t34"></a><h3 class="t3"><span class="cfett">23.9.3</span><span class="cfett"> CGI-Ausgabe</span>  <img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"><a href="#t2t33"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
<p>Wenn Ihre CGI-Anwendung etwas ausgeben soll, müssen Sie mindestens eine Headerzeile ausgeben. Der Webserver erledigt dann den Rest, wie zum Beispiel die Ausgabe weiterer Header. Von den drei folgenden Headern muss mindestens einer angegeben werden.</p>
<h4 class="t4"><span class="cfett">Content-Type-Dokumente ausgeben</span></h4>
<p>Wollen Sie, dass Ihre CGI-Anwendung ein bestimmtes Dokument ausgibt, müssen Sie dem Webserver erst mitteilen, um was für ein Dokument es sich handelt. Meistens werden Sie ein HTML-Dokument ausgeben wollen. Dies wird mit folgender Angabe erledigt:</p>
<div class="listing"><pre class="prettyprint">printf("Content-Type: text/html\n\n");</pre></div>
<p>Die beiden Newline-Zeichen am Ende sind enorm wichtig. Damit wird dem Webserver angezeigt, dass es sich um die letzte Headerzeile handelt. Wenn der Webserver diese Leerzeile erhält, kann er dem Webbrowser seine Daten schicken. Meistens ist dies das Anzeigen einer HTML-Webseite. Natürlich lassen sich mit dem <span class="clisting">Content-Type</span>-Header noch unzählig viele andere Dokumente neben den HTML-Dokumenten ausgeben.</p>
<h4 class="t4"><span class="cfett">»Status« &#8211; Statuscode ausgeben</span></h4>
<p>Damit können Sie angeben, welchen Statuscode der Webserver an den Webbrowser als Response schicken soll. Welche unterschiedlichen Statuscodes Sie verwenden können, wissen Sie bereits. Wollen Sie zum Beispiel den Statuscode 403 (Forbidden) an den Webbrowser senden, und zwar derart, dass der Surfer keinen Zugriff auf diese Seite hat, können Sie so vorgehen:</p>
<div class="listing"><pre class="prettyprint">printf("Status: 403");</pre></div>
<h4 class="t4"><span class="cfett">»Location« &#8211; Weiterleiten an ein anderes Dokument</span></h4>
<p>Wollen Sie mithilfe einer CGI-Anwendung nicht ein Dokument ausgeben, sondern zu einem anderen Dokument weiterleiten, können Sie dazu den <span class="clisting">Location</span>-Header verwenden. Dieser lässt sich beispielsweise ideal einsetzen, wenn sich die URL eines Dokuments geändert hat. Anwenden können Sie den Header so:</p>
<div class="listing"><pre class="prettyprint">printf("Location: umleitungs_ziel.html\n\n");</pre></div>
<p>Bitte bedenken Sie auch, dass es immer noch Surfer mit älteren Browsern gibt, die eine automatische Weiterleitung nicht unterstützen. Schreiben Sie dafür ein paar extra Zeilen HTML-Code mit einem Link zum Weiterklicken.</p>
<p>Hierzu folgt jetzt ein Programmbeispiel, das Surfern mit bestimmten IP-Adressen (<span class="clisting">REMOTE_ADDR</span>) den Zugang auf die Webseite verweigert. Falls aber die IP-Adresse Zugang hat, wird der Surfer zu einer entsprechenden URL weitergeleitet.</p>
<div class="listing"><pre class="prettyprint">/* location.c */
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;

/* Listing fragt REMOTE_ADDR ab. Lässt sich der Wert nicht
 * auslesen, gibt das CGI-Programm den Statuscode 500 zurück.
 * Ansonsten werden die verbotenen IP-Adressen in forbidden mit
 * REMOTE_ADDR überprüft und entsprechende Maßnahmen getroffen. */

/* die Liste der IP-Adressen, die keinen Zugriff auf die Seite
 * haben sollen */
char *forbidden[] = {
   "127.0.0.1", "168.123.6.1", NULL
};

/* Weiterleitung zu einer URL;
 * url ist die URL, zu der Sie den User weiterleiten.
 */
void print_location(char *url) {
   printf("Location: %s\n\n", url);
   /* für den Fall, dass ein alter Browser keine
    * automatische Weiterleitung unterstützt */
   printf("Content-Type: text/html\n\n");
   printf("&lt;html&gt;&lt;head&gt;\n");
   printf("&lt;title&gt;Weiterleitung zu %s&lt;/title&gt;\n",url);
   printf("&lt;/head&gt;&lt;body&gt;&lt;pre&gt;\n");
   printf("Weiter gehts &lt;a href=\"%s\"&gt;hier&lt;/a&gt;",url);
   printf("&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;\n");
}

/* Statuscode zurückgeben */
void print_status(char *status) {
   printf("Status: %s", status);
}

int main(void) {
   char *p;
   int i;

   /* IP-Adresse ermitteln */
   p = getenv("REMOTE_ADDR");
   if( p == NULL) { /* Fehler bei getenv-Abfrage */
      print_status("500");
      return EXIT_FAILURE;
   }
   for(i=0; forbidden[i] != NULL; i++)
      if(strcmp(p, forbidden[i]) == 0) {
         /* Diese IP hat keinen Zutritt */
         print_status("403");
         return EXIT_FAILURE;
      }
   /* Ok, der User wird auf die Willkommen-Seite weitergeleitet.
    * Die URL an Ihre Bedürfnisse anpassen */
   print_location("<a href="http://localhost/welcome.html">http://localhost/welcome.html</a>");
   return EXIT_SUCCESS;
}</pre></div>
<p>Zuerst überprüft die CGI-Anwendung die IP-Adresse des Surfers. Sollte es dabei schon zu Problemen kommen, wird der Fehlercode 500 zurückgegeben, ein Serverfehler also. Ansonsten wird die Stringtabelle <span class="clisting">forbidden</span> durchlaufen und mit <span class="clisting">strcmp()</span> und dem Rückgabewert von <span class="clisting">getenv()</span> verglichen. Bei der IP-Adresse <span class="clisting">127.0.0.1</span> handelt es sich um die Adresse des <span class="clisting">localhost</span>. Wenn Sie die Anwendung auf Ihrem System testen wollen, handelt es sich um Ihre eigene IP-Adresse. In diesem Fall sollten Sie den Statuscode 403 (Forbidden) vom Browser zurückbekommen. Der letzte Fall leitet Sie an die URL <a href="http://localhost/welcome.html">http://localhost/welcome.html</a> weiter, die sich im Beispiel im <span class="ckursiv">htdocs</span>-Verzeichnis befindet.</p>
<p>Außerdem empfehle ich Ihnen, die Daten der Stringtabelle <span class="clisting">forbidden</span> in einer extra Datei zu speichern. Diese Datei können Sie dann beim Ausführen der CGI-Anwendung zum Lesen öffnen, auslesen und mit <span class="clisting">REMOTE_ADDR</span> überprüfen. Eine extra Datei ist deshalb sinnvoller, weil Sie beim Hinzufügen von weiteren IP-Adressen nicht das komplette Listing neu übersetzen müssen.</p><br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellenkopf"><span class="cfett">Hinweis</span>
</td>
</tr>
<tr>
<td class="tabellentext">
<p class="BStandard">In der Praxis empfiehlt es sich, die Zugriffe auf bestimmte Seiten mit der Datei .htaccess zu regeln. Dies ist wesentlich einfacher, als eine CGI-Anwendung dafür zu schreiben.</p>
</td>
</tr>
</table><br><br><hr><a name="kommentar"></a><h3>Ihr Kommentar</h3>
                       Wie hat Ihnen das &lt;openbook&gt; gefallen? Wir freuen uns immer über Ihre freundlichen und kritischen Rückmeldungen.
                       <!--<form action="http://www.galileo-press.de/feedback/openbook" method="post" style="text-align: center; margin-top: 10px;"><input type="hidden" name="openbookurl" value="http://openbook.galileocomputing.de/c_von_a_bis_z/023_c_cgi_009.htm"><input type="hidden" name="buchtitel" value="C von A bis Z"><input type="hidden" name="Kapitel" value="23.9 Das Common Gateway Interface (CGI)"><table border="0">
<tr>
<td><label for="name">Name</label><br></td>
<td><input type="text" name="name" id="name" size="40"><br></td>
</tr>
<tr>
<td><label for="email">E-Mail</label><br></td>
<td><input type="text" name="email" id="email" size="40"><br></td>
</tr>
<tr>
<td valign="top"><label for="comment">Ihr Kommentar</label><br></td>
<td><textarea name="comment" id="comment" rows="10" cols="40"></textarea><br></td>
</tr>
<tr>
<td>
</td>
<td><input type="submit" value="Kommentar absenden"></td>
</tr>
</table>
</form>--><a href="https://www.rheinwerk-verlag.de/feedback/produkt/2132/">>> Zum Feedback-Formular</a>
</div></td>
</tr>
</table></td>
</tr>
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center"><table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="25%"><a href="023_c_cgi_008.html" class="navnav"> &lt;&lt;   zurück</a></td>
<td width="49%"><div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div></td>
<td align="right" width="25%"><div align="right"><a href="023_c_cgi_010.html" class="navnav">vor   &gt;&gt; </a></div></td>
</tr>
</table></td>
</tr>
</table>
</div></td>
<td width="10" valign="top">&nbsp;&nbsp;</td>
<td width="160" valign="top">
<table border="0" cellpadding="0" cellspacing="0" width="160">
<tr>
<td>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td class="tbl2" height="20" colspan="2">
&nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=opc3" class="nav">
<strong>Zum Katalog</strong></a>
</td>
</tr>
<tr>
<td valign="top" class="tbl2" width="2">
<img src="common/leer.gif" border="0" height="1" width="1"></td>
<td valign="top">
<table cellspacing="3">
<tr>
<td><a href="https://www.rheinwerk-verlag.de/c-von-a-bis-z_2132/?GPP=opc3">
	<img src="common/1411.gif" width="117" height="167" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: C von A bis Z" title="Zum Katalog: C von A bis Z">
<br /><br /><strong>&nbsp;C von A bis Z</strong><br /><img src="common/pfeil_rechts5.gif" border="0" alt="">Jetzt&nbsp;bestellen</a><br /><br />
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
</tr>
<tr>
<td>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td class="tbl2" height="20" colspan="2"><a href="#kommentar" class="nav"><strong>&nbsp;Ihre Meinung?</strong></a>
</td>
</tr>
<tr>
<td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
<td valign="top">
<table cellspacing="3">
<tr>
<td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br /><a href="#kommentar"><img src="common/pfeil_rechts5.gif" border="0" alt="">Ihre Meinung</a>
<br /><br /></td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
</tr>
<tr>
<td>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td class="tbl2" height="20" colspan="2">&nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=opc3" class="nav"><strong>Buchtipps</strong></a></td>
</tr>
<tr> 
<td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
<a href="https://www.rheinwerk-verlag.de/cc_3536/?GPP=opc3">
<img src="common/2757.gif" width="69" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: C/C++" title="Zum Katalog: C/C++"><br /><br /><br /><br /><br /><br /><br />&nbsp;C/C++</a><br /><br /></td>
</tr>
<tr>
<td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
<a href="https://www.rheinwerk-verlag.de/einstieg-in-c_3557/?GPP=opc3">
<img src="common/2793.gif" width="74" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Einstieg in C" title="Zum Katalog: Einstieg in C"><br /><br /><br /><br /><br /><br /><br />&nbsp;Einstieg in C</a><br /><br /></td>
</tr>
<tr>
<td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
<a href="https://www.rheinwerk-verlag.de/schrodinger-programmiert-c_2853/?GPP=opc3">
<img src="common/1756.gif" width="85" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Schrödinger programmiert C++" title="Zum Katalog: Schrödinger programmiert C++"><br /><br /><br /><br /><br /><br /><br />&nbsp;Schrödinger<br />&nbsp;programmiert C++</a><br /><br /></td>
</tr>
<tr>
<td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
<a href="https://www.rheinwerk-verlag.de/c_3278/?GPP=opc3">
<img src="common/2021.gif" width="69" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: C++ Handbuch" title="Zum Katalog: C++ Handbuch"><br /><br /><br /><br /><br /><br /><br />&nbsp;C++ Handbuch</a><br /><br /></td>
</tr>
<tr>
<td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
<a href="https://www.rheinwerk-verlag.de/it-handbuch-fur-fachinformatiker_3329/?GPP=opc3">
<img src="common/2234.gif" width="78" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: IT-Handbuch für Fachinformatiker" title="Zum Katalog: IT-Handbuch für Fachinformatiker"><br /><br /><br /><br /><br /><br /><br />&nbsp;IT-Handbuch für<br />&nbsp;Fachinformatiker</a><br /><br /></td>
</tr>
</table></td>
</tr>
<tr>
<td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
</tr>
<tr>
<td>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td class="tbl2" height="20" colspan="2"><strong>&nbsp;Shopping</strong></td>
</tr>
<tr>
<td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
<td valign="top">
<table cellspacing="3">
<tr>
<td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br /><a href="https://www.rheinwerk-verlag.de/hilfe/bestellung_6?GPP=opc3"><img src="common/pfeil_rechts5.gif" border="0" alt="Info">Info</a><br /><br /></td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table><br><br><hr width="70%" align="center">
<div align="center">
<p class="standard"><strong>Copyright © Rheinwerk Verlag GmbH 2009</strong><br>
        Für Ihren privaten Gebrauch dürfen Sie die Online-Version natürlich ausdrucken.
        Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, wie die
        gebundene Ausgabe: Das Werk einschließlich aller seiner Teile ist urheberrechtlich
        geschützt. Alle Rechte vorbehalten einschließlich der Vervielfältigung, Übersetzung,
        Mikroverfilmung sowie Einspeicherung und Verarbeitung in elektronischen Systemen.</p><br><a href="https://www.rheinwerk-verlag.de/">[Rheinwerk Computing]</a><br><br>
      Rheinwerk Verlag GmbH, Rheinwerkallee 4, 53227 Bonn, Tel.: 0228.42150.0, Fax 0228.42150.77, <a href="mailto:service@rheinwerk-verlag.de">service@rheinwerk-verlag.de</a></div><br><br></body>

<!-- Mirrored from openbook.rheinwerk-verlag.de/c_von_a_bis_z/023_c_cgi_009.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Jun 2017 19:51:53 GMT -->
</html>
